<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
	<link th:href="@{../../css/style.css}" rel="stylesheet">
	<title>Permiso - Nuevo</title>
</head>

<body class="masthead">
	<div th:replace="fragments/menu"></div>
	<div class="mb-5"></div>

	<div class="container">
		<h3>Filtros</h3>
		<form action="#" th:action="@{/permiso/filtro}" th:object="${filtro}" method="POST" style="width: 50%;">
			<input class="form-control" th:field="*{fechaInicio}" type="text" placeholder="fecha de inicio">
			<input class="form-control" th:field="*{fechaFin}" type="text" placeholder="fecha de fin">
			<input class="btn btn-primary" value="Enviar" type="submit">
			</form>
		</form>
	</div>

	<form action="#" th:action="@{/permiso/dia/save}" th:object="${permiso}" method="POST" style="width:85%"
		class="container">

		<h1>Lista de Permisos Diario</h1>
		<table class="table table-dark">
			<thead>
				<tr>
					<th scope="col">Nombre y apellido</th>
					<th scope="col">DNI</th>
					<th scope="col">Fecha de Inicio</th>
					<th scope="col">Fecha de Fin</th>
					<th scope="col">Desde</th>
					<th scope="col">Hasta</th>
					<th scope="col">Motivo</th>

				</tr>
			</thead>
			<tbody>
				<tr th:each="p : ${permisosDiario}">
					<td th:text="${p.persona.nombre + ' ' + p.persona.apellido}"></td>
					<td th:text="${p.persona.dni}"></td>
					<td th:text="${p.fecha}"></td>
					<td th:text="${p.fecha}"></td>
					<td th:text="${p.desdeHasta[0].lugar + ' CP: ' + p.desdeHasta[0].codigoPostal}"></td>
					<td th:text="${p.desdeHasta[1].lugar + ' CP: ' + p.desdeHasta[1].codigoPostal}"></td>
					<td class="col-3" th:text="${p.motivo}"></td>
				</tr>
			</tbody>
		</table>
		<h1>Lista de Permisos Periodo</h1>

		<table class="table table-dark">
			<thead>
				<tr>
					<th scope="col">Nombre y apellido</th>
					<th scope="col">DNI</th>
					<th scope="col">Fecha de Inicio</th>
					<th scope="col">Fecha de Fin</th>
					<th scope="col">Desde</th>
					<th scope="col">Hasta</th>
					<th scope="col">Vacaciones</th>
					<th scope="col">Vehiculo</th>
					<th scope="col">Patente</th>

				</tr>
			</thead>
			<tbody>
				<tr th:each="p : ${permisoPeriodo}">
					<td th:text="${p.persona.nombre + ' ' + p.persona.apellido}"></td>
					<td th:text="${p.persona.dni}"></td>
					<td th:text="${p.fecha}"></td>
					<td th:text="${p.fecha.toLocalDate().plusDays(p.cantDias)}"></td>
					<td th:text="${p.desdeHasta[0].lugar + ' CP: ' + p.desdeHasta[0].codigoPostal}"></td>
					<td th:text="${p.desdeHasta[1].lugar + ' CP: ' + p.desdeHasta[1].codigoPostal}"></td>
					<td th:text="${p.vacaciones ? 'Si':'No'}"></td>
					<td th:text="${p.rodado.vehiculo}"></td>
					<td th:text="${p.rodado.dominio}"></td>
				</tr>
			</tbody>
		</table>




</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
	crossorigin="anonymous"></script>

</html>